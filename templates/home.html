<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Prediction</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body>
  <div class="card">
    <h2>Student Performance Prediction</h2>

    <form method="POST">

      <label>Gender</label>
      <select name="gender" required>
        <option disabled value="">Select gender</option>
        <option value="male" {{ 'selected' if form_data.get('gender') == 'male' else '' }}>Male</option>
        <option value="female" {{ 'selected' if form_data.get('gender') == 'female' else '' }}>Female</option>
      </select>

      <label>Race / Ethnicity</label>
      <select name="ethnicity" required>
        <option disabled value="">Select ethnicity</option>
        {% for g in ['group A','group B','group C','group D','group E'] %}
          <option value="{{ g }}" {{ 'selected' if form_data.get('ethnicity') == g else '' }}>{{ g }}</option>
        {% endfor %}
      </select>

      <label>Parental Education Level</label>
      <select name="parental_level_of_education" required>
        <option disabled value="">Select education</option>
        {% for e in ["associate's degree","bachelor's degree","high school","master's degree","some college","some high school"] %}
          <option value="{{ e }}" {{ 'selected' if form_data.get('parental_level_of_education') == e else '' }}>{{ e }}</option>
        {% endfor %}
      </select>

      <label>Lunch Type</label>
      <select name="lunch" required>
        <option disabled value="">Select lunch</option>
        <option value="standard" {{ 'selected' if form_data.get('lunch') == 'standard' else '' }}>Standard</option>
        <option value="free/reduced" {{ 'selected' if form_data.get('lunch') == 'free/reduced' else '' }}>Free / Reduced</option>
      </select>

      <label>Test Preparation Course</label>
      <select name="test_preparation_course" required>
        <option disabled value="">Select option</option>
        <option value="none" {{ 'selected' if form_data.get('test_preparation_course') == 'none' else '' }}>None</option>
        <option value="completed" {{ 'selected' if form_data.get('test_preparation_course') == 'completed' else '' }}>Completed</option>
      </select>

      <label>Reading Score (0–100)</label>
      <input type="number" name="reading_score" min="0" max="100"
             value="{{ form_data.get('reading_score','') }}" required>

      <label>Writing Score (0–100)</label>
      <input type="number" name="writing_score" min="0" max="100"
             value="{{ form_data.get('writing_score','') }}" required>

      <button type="submit">Predict Math Score</button>
    </form>

    {% if results %}
      <div class="result">
        Predicted Math Score: <span>{{ results }}</span>
      </div>
    {% endif %}
  </div>
</body>
</html>
